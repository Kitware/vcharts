!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.vcharts=e()}}(function(){return function e(t,a,n){function r(o,l){if(!a[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);var p=new Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var d=a[o]={exports:{}};t[o][0].call(d.exports,function(e){var a=t[o][1][e];return r(a?a:e)},d,d.exports,e,t,a,n)}return a[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,a){function n(e,t){return void 0===e||0===t.length?e:n(e[t[0]],t.slice(1))}function r(e,t,a){return 1===t.length?void(e[t[0]]=a):(void 0===e[t[0]]&&(e[t[0]]={}),r(e[t[0]],t.slice(1)))}function i(e,t){var a,o,l,s,p,d,u,x,m,c;if(Array.isArray(e)){for(a=[],o=0;o<e.length;o+=1)a.push(i(e[o],t));return a}if(null===e)return e;if("object"==typeof e){if(void 0!==e["{{"])return l=e["{{"],"string"==typeof l&&(l=[l]),l.length<2&&(l=[l[0],null]),a=n(t,l[0].split(".")),void 0===a&&(a=l[1],r(t,l[0].split("."),l[1])),a;if(void 0!==e["[["]){for(l=e["[["],a=[],s=i(l[0],t),d=0;d<s.length;d+=1)for(t[l[1]]=s[d],u=2;u<l.length;u+=1)p=i(l[u],t),null!==p&&a.push(p);return a}if(void 0!==e["??"])return l=e["??"],condition=i(l[0],t),condition?i(l[1],t):i(l[2],t);if(void 0!==e["=="])return l=e["=="],x=i(l[0],t),m=i(l[1],t),x===m;a={};for(c in e)e.hasOwnProperty(c)&&(a[c]=i(e[c],t));return a}return e}function o(e){return e&&e.constructor&&"Object"===e.constructor.name}function l(e){return e&&e.constructor&&"Array"===e.constructor.name}function s(e,t){var a,n,r;if(void 0===t)return e;if(o(e)){a={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=s(e[n],t[n]));for(n in t)Object.prototype.hasOwnProperty.call(e,n)||(a[n]=t[n]);return a}if(l(e)){for(a=[],r=0;r<e.length;r+=1)a.push(s(e[r],t[r]));if(l(t))for(r=e.length;r<t.length;r+=1)a.push(t[r]);return a}return t}function p(e){var t,a=e.el;return delete e.el,t=JSON.parse(JSON.stringify(e)),e.el=a,t.el=a,t}function d(e,t){var a=this;return a.options={},a.specTemplate=u[e],a.update=function(e){var t,n,r,o,l;a.options=s(a.options,e),n=i(a.specTemplate,p(a.options)),l=d3.select(a.options.el)[0][0],r={},0!==l.offsetWidth&&0!==l.offsetHeight&&(void 0===a.options.width&&(r.width=l.offsetWidth,n.padding&&(r.width-=n.padding.left+n.padding.right)),void 0===a.options.height&&(r.height=l.offsetHeight,n.padding&&(r.height-=n.padding.top+n.padding.bottom))),o=s(a.options,r),t={el:o.el,renderer:o.renderer},n=i(a.specTemplate,o),console.log(n),vg.parse.spec(n,function(e){var a=e(t);a.update()})},a.update(t),a}var u={bullet:e("../templates/bullet.json"),vega:e("../templates/vega.json"),xy:e("../templates/xy.json")};t.exports={transform:i,chart:d,templates:u}},{"../templates/bullet.json":2,"../templates/vega.json":3,"../templates/xy.json":4}],2:[function(e,t,a){t.exports={width:{"{{":["width",300]},height:{"{{":["height",40]},padding:{top:10,left:{"??":[{"{{":["title",""]},150,10]},bottom:30,right:10},data:[{name:"ranges",values:{"{{":["ranges",[{min:0,max:.1,background:"hsl(0,0%,90%)",foreground:"rgb(102,191,103)"},{min:.1,max:.5,background:"hsl(0,0%,75%)",foreground:"rgb(255,179,24)"},{min:.5,max:1,background:"hsl(0,0%,60%)",foreground:"rgb(228,0,0)"}]]}},{name:"values",values:[{value:{"{{":["value",0]}}],transform:[{type:"formula",field:"align",expr:"if(datum.value < 0, 'left', 'right')"},{type:"formula",field:"dx",expr:"if(datum.value < 0, 5, -5)"}]},{name:"markers",values:{"{{":["markers",[]]}}],scales:[{name:"x",type:"linear",range:"width",domain:{data:"ranges",field:["min","max"]}},{name:"y",type:"linear",range:[0,{"{{":"height"}],domain:[0,1]},{name:"color",type:"linear",range:{"[[":[{"{{":"ranges"},"range",{"{{":["range.foreground","black"]},{"{{":"range.foreground"}]},domain:{"[[":[{"{{":"ranges"},"range",{"{{":"range.min"},{"{{":"range.max"}]}}],axes:[{type:"x",scale:"x",ticks:5,properties:{axis:{stroke:{value:"hsl(0,0%,75%)"},strokeWidth:{value:.5}},ticks:{stroke:{value:"hsl(0,0%,75%)"},strokeWidth:{value:.5}},labels:{fontSize:{value:{"{{":["axisFontSize",14]}}}}}],marks:[{type:"rect",from:{data:"ranges"},properties:{enter:{x:{scale:"x",field:"min"},x2:{scale:"x",field:"max"},y:{scale:"y",value:0},y2:{scale:"y",value:1},fill:{field:"background"},opacity:{value:.5}}}},{type:"rect",from:{data:"markers"},properties:{enter:{xc:{scale:"x",field:"value"},width:{value:2},yc:{scale:"y",value:.5},height:{scale:"y",value:.75},fill:{scale:"color",field:"value"}}}},{type:"rect",from:{data:"values"},properties:{enter:{x:{scale:"x",value:0},x2:{scale:"x",field:"value"},yc:{scale:"y",value:.5},height:{scale:"y",value:.5},fill:{scale:"color",field:"value"}}}},{type:"text",properties:{enter:{x:{value:-10},y:{scale:"y",value:.5},fontSize:{value:{"{{":["titleFontSize",20]}},text:{value:{"{{":["title",""]}},align:{value:"right"},baseline:{value:"middle"},fill:{value:"black"}}}},{type:"text",properties:{enter:{x:{value:-10},y:{scale:"y",value:.5,offset:15},fontSize:{value:{"{{":["subtitleFontSize",12]}},text:{value:{"{{":["subtitle",""]}},align:{value:"right"},baseline:{value:"middle"},fill:{value:"black"}}}},{type:"text",from:{data:"values"},properties:{enter:{x:{scale:"x",field:"value"},dx:{field:"dx"},y:{scale:"y",value:.5},fontSize:{value:{"{{":["labelFontSize",16]}},text:{template:{"{{":["display","{{datum.value|number:'.2g'}}"]}},align:{field:"align"},baseline:{value:"middle"},fill:{value:"white"}}}}]}},{}],3:[function(e,t,a){t.exports={"{{":"spec"}},{}],4:[function(e,t,a){t.exports={width:{"{{":["width",800]},height:{"{{":["height",500]},padding:{"{{":["padding",{top:10,bottom:50,left:50,right:150}]},predicates:[{name:"tooltip",type:"==",operands:[{signal:"tooltip._id"},{arg:"id"}]}],data:{"[[":[{"{{":["series",[]]},"d",{name:{"{{":"d.name"},values:{"{{":"d.values"},transform:[{type:"formula",field:"x",expr:{"{{":["d.x","datum.x"]}},{type:"formula",field:"y",expr:{"{{":["d.y","datum.y"]}}]}]},signals:[{name:"width",init:{"{{":"width"}},{name:"height",init:{"{{":"height"}},{name:"tooltip",init:{},streams:[{type:"symbol:mouseover",expr:"datum"},{type:"symbol:mouseout",expr:"{}"}]},{name:"point",init:0,streams:[{type:"mousedown",expr:"{x: eventX(), y: eventY()}"}]},{name:"delta",init:0,streams:[{type:"[mousedown, window:mouseup] > window:mousemove",expr:"{x: point.x - eventX(), y: eventY() - point.y}"}]},{name:"xAnchor",init:0,streams:[{type:"mousemove, wheel",expr:"eventX()",scale:{name:"x",invert:!0}}]},{name:"yAnchor",init:0,streams:[{type:"mousemove, wheel",expr:"eventY()",scale:{name:"y",invert:!0}}]},{name:"zoom",init:1,streams:[{type:"wheel",expr:"pow(1.001, event.deltaY)"}]},{name:"xMinAnchor",streams:[{type:"mousedown, mouseup, wheel",expr:"0",scale:{name:"x",invert:!0}}]},{name:"xMaxAnchor",streams:[{type:"mousedown, mouseup, wheel",expr:"width",scale:{name:"x",invert:!0}}]},{name:"yMinAnchor",streams:[{type:"mousedown, mouseup, wheel",expr:"height",scale:{name:"y",invert:!0}}]},{name:"yMaxAnchor",streams:[{type:"mousedown, mouseup, wheel",expr:"0",scale:{name:"y",invert:!0}}]},{name:"xMin",init:{"{{":["axes.x.range.0",null]},streams:[{type:"delta",expr:{"??":[{"{{":["axes.x.pan",!0]},{"??":[{"==":[{"{{":"axes.x.type"},"time"]},"time(xMinAnchor) + (time(xMaxAnchor)-time(xMinAnchor))*delta.x/width","xMinAnchor + (xMaxAnchor-xMinAnchor)*delta.x/width"]},"xMinAnchor"]}},{type:"zoom",expr:{"??":[{"{{":["axes.x.zoom",!0]},{"??":[{"==":[{"{{":"axes.x.type"},"time"]},"(time(xMinAnchor)-time(xAnchor))*zoom + time(xAnchor)","(xMinAnchor-xAnchor)*zoom + xAnchor"]},"xMinAnchor"]}}]},{name:"xMax",init:{"{{":["axes.x.range.1",null]},streams:[{type:"delta",expr:{"??":[{"{{":["axes.x.pan",!0]},{"??":[{"==":[{"{{":"axes.x.type"},"time"]},"time(xMaxAnchor) + (time(xMaxAnchor)-time(xMinAnchor))*delta.x/width","xMaxAnchor + (xMaxAnchor-xMinAnchor)*delta.x/width"]},"xMaxAnchor"]}},{type:"zoom",expr:{"??":[{"{{":["axes.x.zoom",!0]},{"??":[{"==":[{"{{":"axes.x.type"},"time"]},"(time(xMaxAnchor)-time(xAnchor))*zoom + time(xAnchor)","(xMaxAnchor-xAnchor)*zoom + xAnchor"]},"xMaxAnchor"]}}]},{name:"yMin",init:{"{{":["axes.y.range.0",null]},streams:[{type:"delta",expr:{"??":[{"{{":["axes.y.pan",!0]},"yMinAnchor + (yMaxAnchor-yMinAnchor)*delta.y/height","yMinAnchor"]}},{type:"zoom",expr:{"??":[{"{{":["axes.y.zoom",!0]},{"??":[{"==":[{"{{":"axes.y.type"},"time"]},"(yMinAnchor-time(yAnchor))*zoom + time(yAnchor)","(yMinAnchor-yAnchor)*zoom + yAnchor"]},"yMinAnchor"]}}]},{name:"yMax",init:{"{{":["axes.y.range.1",null]},streams:[{type:"delta",expr:{"??":[{"{{":["axes.y.pan",!0]},"yMaxAnchor + (yMaxAnchor-yMinAnchor)*delta.y/height","yMaxAnchor"]}},{type:"zoom",expr:{"??":[{"{{":["axes.y.zoom",!0]},{"??":[{"==":[{"{{":"axes.y.type"},"time"]},"(yMaxAnchor-time(yAnchor))*zoom + time(yAnchor)","(yMaxAnchor-yAnchor)*zoom + yAnchor"]},"yMaxAnchor"]}}]}],scales:[{name:"x",type:{"{{":["axes.x.type","linear"]},range:"width",zero:!1,domain:{"??":[{"{{":"series.0"},{data:{"{{":"series.0.name"},field:"x"},[0,1]]},domainMin:{signal:"xMin"},domainMax:{signal:"xMax"}},{name:"y",type:{"{{":["axes.y.type","linear"]},range:"height",zero:!1,domain:{"??":[{"{{":"series.0"},{data:{"{{":"series.0.name"},field:"y"},[0,1]]},domainMin:{signal:"yMin"},domainMax:{signal:"yMax"}},{name:"color",type:"ordinal",domain:{"[[":[{"{{":"series"},"d",{"{{":"d.name"}]},range:{"[[":[{"{{":"series"},"d",{"{{":["d.color","steelblue"]}]}}],axes:[{type:"x",scale:"x",grid:!0,layer:"back",title:{"{{":["axes.x.title",""]}},{type:"y",scale:"y",grid:!0,layer:"back",title:{"{{":["axes.y.title",""]}}],legends:[{fill:"color",orient:"right",properties:{symbols:{stroke:{value:"transparent"}}}}],marks:[{type:"group",properties:{enter:{x:{value:0},width:{field:{group:"width"}},y:{value:0},height:{field:{group:"height"}},clip:{value:!0}}},marks:[{type:"group",marks:{"[[":[{"{{":"series"},"d",{"??":[{"{{":["d.line",!1]},{type:"line",from:{data:{"{{":"d.name"}},properties:{update:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},stroke:{scale:"color",value:{"{{":"d.name"}},strokeWidth:{"{{":["d.lineWidth",1]}}}},null]}]}},{type:"group",marks:{"[[":[{"{{":"series"},"d",{"??":[{"{{":["d.point",!0]},{type:"symbol",from:{data:{"{{":"d.name"}},properties:{update:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},fill:{scale:"color",value:{"{{":"d.name"}},stroke:{value:"#444"},shape:{value:{"{{":["d.shape","circle"]}},strokeWidth:{value:{"{{":["d.strokeWidth",.25]}},size:{value:{"{{":["d.pointSize",20]}}},hover:{size:{value:80}}}},null]}]}},{type:"text",properties:{enter:{align:{value:"center"},fill:{value:"#333"}},update:{x:{scale:"x",signal:"tooltip.x"},y:{scale:"y",signal:"tooltip.y",offset:-5},text:{template:"({{tooltip.x|number:'.4g'}}, {{tooltip.y|number:'.4g'}})"},fillOpacity:{rule:[{predicate:{name:"tooltip",id:{value:null}},value:0},{value:1}]}}}}]}]}},{}]},{},[1])(1)});
